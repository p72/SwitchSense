# 概要

これは、SwitchBot温度計デバイスのリアルタイム監視を提供するStreamlitで構築されたSwitchBot温度監視アプリケーションです。このアプリケーションは、複数のSwitchBotデバイスの温度、湿度、バッテリー状態を直感的なWebインターフェースで表示し、摂氏と華氏の間の温度変換機能を備えています。

# ユーザー設定

推奨コミュニケーションスタイル: シンプルで日常的な言語。

# システムアーキテクチャ

## フロントエンドアーキテクチャ
- **フレームワーク**: Streamlit Webアプリケーションフレームワーク
- **UIコンポーネント**: デバイスメトリクスを表示するカードベースレイアウト、バッテリー状態を示す色分けされたインジケーター
- **データ可視化**: 温度変換（摂氏から華氏）を備えたリアルタイムメトリクス表示
- **レイアウト**: デバイス情報のためのマルチカラムカード表示を備えたワイドレイアウト設定

## バックエンドアーキテクチャ
- **API統合**: 認証とデバイス通信を処理するカスタムSwitchBotAPIクラス
- **認証**: タイムスタンプとナンス生成を備えたHMAC-SHA256署名ベース認証
- **データ処理**: 温度変換ユーティリティとバッテリー状態の色分けロジック
- **リクエスト処理**: 適切なヘッダー生成とエラーハンドリングを備えたRESTful APIクライアント

## データ管理
- **リアルタイムデータ**: 温度、湿度、バッテリーメトリクスのためのSwitchBotデバイスのライブポーリング
- **データ形式**: デバイス状態情報を含むJSONベースのAPIレスポンス
- **状態管理**: UI更新のためのStreamlitの組み込みセッション状態

## セキュリティアーキテクチャ
- **APIセキュリティ**: 安全なSwitchBot API通信のためのトークンベース認証とHMAC署名
- **認証情報管理**: APIトークンとシークレットのための環境変数ベース設定

# 外部依存関係

## サードパーティサービス
- **SwitchBot Open API v1.1**: デバイスデータ取得と制御のための主要統合
- **ベースURL**: `https://api.switch-bot.com/v1.1`

## Pythonライブラリ
- **streamlit**: ユーザーインターフェースのためのWebアプリケーションフレームワーク
- **requests**: API通信のためのHTTPクライアントライブラリ
- **hashlib**: HMAC署名生成のための暗号化ハッシュ
- **hmac**: HMAC認証実装
- **base64**: API署名のためのエンコード/デコード
- **uuid**: APIナンスのための一意識別子生成

## ハードウェア統合
- **SwitchBot温度計デバイス**: 温度、湿度、バッテリーデータを提供する物理IoTセンサー
- **SwitchBotハブ**: デバイス接続とAPIアクセスのために必要 